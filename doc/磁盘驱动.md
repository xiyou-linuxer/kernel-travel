# 磁盘驱动

## 获取sata控制器的bar地址
![Alt text](./img/2024-04-15_11-13.png)

根据手册中所给的信息要操作磁盘中的寄存器首先要获取磁盘的bar地址。根据ACHI1.1规范中给出的拓扑结构可知，该设备为PCI设备。因此要获取bar地址应先驱动pci总线主动扫描连接在总线上的设备。根据手册给出的总线号设备号功能号查找到sata控制器的BAR_BASE地址。

### 
